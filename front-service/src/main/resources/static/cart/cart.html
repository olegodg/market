<div>
    <p></p>

    <h3>Корзина</h3>
    <p></p>
    <button type="button" class="btn btn-outline-danger" ng-click="clearCart()" ng-show="cart.items.length != 0">Очистить корзину</button>
    <p></p>
    <table class="table table-hover">
        <thead>
        <tr>
            <td>Название</td>
            <td>Количество</td>
            <td>Цена</td>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="ci in cart.items">
            <td>{{ci.productTitle}}</td>
            <td>
                <button class="btn btn-primary" ng-click="changeQuantity(ci.productTitle, -1)">-</button>
                {{ci.quantity}}
                <button class="btn btn-primary" ng-click="changeQuantity(ci.productTitle, 1)">+</button>
            </td>
            <td>{{ci.pricePerProduct + ' x ' + ci.quantity + ' = ' + ci.price}}</td>
        </tr>
        <tr>
            <td></td>
            <td>Итого:</td>
            <td>{{cart.totalPrice}}</td>
        </tr>
        </tbody>
        <div ng-show="cart.items.length == 0">
            <p>Ваша корзина пуста</p>
        </div>
    </table>

    <p></p>
    <button class="btn btn-secondary" ng-click="guestCreateOrder()" ng-show="!isUserLoggedIn()">Оформить заказ</button>


    <div ng-show="isUserLoggedIn()" ng-show="cart.items.length != 0">
        <form class="mb-5" ng-submit="createOrder()">

            <div class="form-outline mb-5">
                <input type="text" id="typeText" class="form-control form-control-lg" siez="17"
                       pattern="^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$"
                       ng-model="orderDetails.phone"/>
                <label class="form-label" for="typeText">Номер телефона в формате +7(123)4567890 </label>
            </div>

            <div class="form-outline mb-5">
                <input type="text" id="typeName" class="form-control form-control-lg" siez="17"
                       ng-model="orderDetails.address"/>
                <label class="form-label" for="typeName">Адрес доставки</label>
            </div>

            <button class="btn btn-primary" ng-click="submit" ng-show="isUserLoggedIn()">Оформить заказ</button>

        </form>
    </div>


</div>


